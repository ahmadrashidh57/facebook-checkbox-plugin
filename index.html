<!DOCTYPE html>
<html>

<head>
    <title>Facebook Checkbox plugin</title>
</head>

<body>
    <script>
        window.fbAsyncInit = function () {
            FB.init({
                appId: '5069878196415663',
                autoLogAppEvents: true,
                xfbml: true,
                version: 'v13.0'
            });

            FB.Event.subscribe('messenger_checkbox', function (e) {
                console.log("messenger_checkbox event");
                console.log(e);
                if (e.event == 'rendered') {
                    console.log("Plugin was rendered");
                } else if (e.event == 'checkbox') {
                    var checkboxState = e.state;
                    console.log("Checkbox state: " + checkboxState);
                } else if (e.event == 'not_you') {
                    console.log("User clicked 'not you'");
                } else if (e.event == 'hidden') {
                    console.log("Plugin was hidden");
                }
            });
        };
    </script>
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js"></script>
    <h1>Checkbox Plugin</h1>
    <div class="fb-messenger-checkbox" origin=https://ahmadrashidh57.github.io/facebook-checkbox-plugin/
        page_id=109638503006161 messenger_app_id=414863965197774 user_ref="setmore_b60e6ba3b5934650a32a20eca59ea8fb_skjd3243_89347876"
        allow_login="true" size="small" skin="light" center_align="true">
    </div>
    <input type="button" onclick="confirmOptIn()" value="Confirm Opt-in" />
    <script>
        function confirmOptIn() {
            FB.AppEvents.logEvent('MessengerCheckboxUserConfirmation', null,
                {
                    'app_id': '414863965197774',
                    'page_id': '109638503006161',
                    'ref': '5f64ef22-7339-4029-83c1-3c0fe9aea9a8',
                    'user_ref': 'setmore_b60e6ba3b5934650a32a20eca59ea8fb_skjd3243_89347876'
                });
        }
    </script>
</body>

</html>