<!DOCTYPE html>
<html>

<head>
    <title>Facebook Checkbox plugin</title>
    <script async defer crossorigin="anonymous" src="https://connect.facebook.net/en_US/sdk.js"></script>
</head>

<body>
    <script>
        window.fbAsyncInit = function () {
            FB.init({
                appId: '414863965197774',
                autoLogAppEvents: true,
                xfbml: true,
                version: 'v13.0'
            });

            FB.Event.subscribe('messenger_checkbox', function (e) {
                console.log("messenger_checkbox event");
                console.log(e);
                if (e.event == 'rendered') {
                    console.log("Plugin was rendered");
                } else if (e.event == 'checkbox') {
                    var checkboxState = e.state;
                    console.log("Checkbox state: " + checkboxState);
                } else if (e.event == 'not_you') {
                    console.log("User clicked 'not you'");
                } else if (e.event == 'hidden') {
                    console.log("Plugin was hidden");
                }
            });
        };
    </script>

    <h1>Checkbox Plugin</h1>

    <div className="fb-messenger-checkbox " origin="https://ahmadrashidh57.github.io/" page_id="109638503006161"
        messenger_app_id="414863965197774" user_ref="setmore_kjjfjdlk332_skjd3243_oolalala" allow_login="true" size="small" skin="light"
        center_align="false" fbe_external_business_id="7d6d769e-cf84-458f-9e0e-fa3b38f23d37"></div>

    <input type="button" onclick="confirmOptIn()" value="Confirm Opt-in" />
    <script>
        function confirmOptIn() {
            FB.AppEvents.logEvent('MessengerCheckboxUserConfirmation', null,
                {
                    'app_id': '414863965197774',
                    'page_id': '109638503006161',
                    'ref': 'none',
                    'user_ref': 'setmore_kjjfjdlk332_skjd3243_oolalala'
                });
        }
    </script>
</body>

</html>